<!DOCTYPE html>
<html>

    <head>

    </head>
    <body>
        <audio id="player1" controls></audio>

        <!-- <script src="https://cdn.jsdelivr.net/npm/opus-media-recorder@latest/OpusMediaRecorder.umd.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/opus-media-recorder@latest/encoderWorker.umd.js"></script> -->
        <script src="https://cdn.jsdelivr.net/npm/opus-media-recorder@0.7.16/OpusMediaRecorder.umd.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/opus-media-recorder@0.7.16/encoderWorker.umd.js"></script>
        <script type="module">
            const workerOptions = {
            OggOpusEncoderWasmPath: 'https://cdn.jsdelivr.net/npm/opus-media-recorder@latest/OggOpusEncoder.wasm',
            WebMOpusEncoderWasmPath: 'https://cdn.jsdelivr.net/npm/opus-media-recorder@latest/WebMOpusEncoder.wasm'
            };
            window.MediaRecorder = OpusMediaRecorder;

            const player1 = document.querySelector("#player1");
            (async ()=>{
                const micMS = await navigator.mediaDevices.getUserMedia({audio:true});
                const MRecorder = new MediaRecorder(micMS, {
                    mineType:"audio/ogg; ",
                    audioBitsPerSecond: 96*1000
                }, workerOptions);
            })();
        </script>
    </body>
</html>
